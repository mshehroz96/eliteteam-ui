
  <div [appIsLoading]="loadingService.isLoading(this)">
  <div *ngIf="this.candidates.length == 0" class="flex justify-content-between mb-2">
    <div class="float-left">
       <h4>{{this.showcaseMessage}}</h4>
    </div>

</div>

<p-table #dtJob [value]="candidates" *ngIf="this.candidates.length > 0" [lazy]="true" (onLazyLoad)="getcandidates($event)" responsiveLayout="scroll"
    dataKey="requisitionId" styleClass="p-datatable-strip" [paginator]="true" [rows]="10" [totalRecords]="totalRecords"
    [loading]="loading" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50,100]"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="['requisitionId','companyId','campaignTypeLiid']">
    <ng-template pTemplate="caption">
        <div class="row mx-2">
            <div class="flex justify-content-between mb-2">
                <div class="float-right">
                    <p-splitButton label="Export" icon="bx bx-export" [model]="items" ></p-splitButton>
                </div>
            </div>
            <form action="#">
                <label class="rightSpacing" style="float: right">
                    <input pInputText type="text" name="globalFilter" class="form-control" [(ngModel)]="searchFilter"
                        (ngModelChange)="getcandidates({})" placeholder="Search keyword" />
                </label>
            </form>
        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 3rem">
                <p-tableHeaderCheckbox></p-tableHeaderCheckbox>
            </th>
            <th pSortableColumn="Title">Title<p-sortIcon field="title"></p-sortIcon>
            </th>
            <th pSortableColumn="NumberOfCandidates">No. Of Candidates<p-sortIcon field="numberOfCandidates"></p-sortIcon>
            </th>
            <th pSortableColumn="ShowcaseExpiryDate">Expiry Date <p-sortIcon field="showcaseExpiryDate"></p-sortIcon>
            </th>
            <th pSortableColumn="LastModifiedOn">Last Activity <p-sortIcon field="lastModifiedOn"></p-sortIcon>
            </th>
            <th>
                Actions
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-job>
        <tr>
            <td>
                <p-tableCheckbox [value]="job"></p-tableCheckbox>
            </td>
            <td>
                <a href="javascript:void(0)" routerLink="/client/showcase-view/{{job.guid}}">
                <span class="text-primary">
                    {{job.title}}
                </span>
                </a>

            </td>
            <td>
                <ul class="list-unstyled avatar-group d-flex align-items-center mb-0"  >

                    <li data-bs-toggle="tooltip" *ngFor="let item of job.candidates " data-popup="tooltip-custom" data-bs-placement="top" title="{{item.name}}"
                      class="avatar avatar-sm pull-up">
                      <img class="rounded-circle" [src]="item.avatarFileName | avatar" alt="{{item.name}}" >
                    </li>

                  </ul>
            </td>
            <td>{{job.showcaseExpiryDate | date: "MM/dd/yyyy hh:mm aa"}}</td>
            <td>{{job.lastActivity}}</td>
            <td>
                <div class="d-inline-block"><a href="javascript:;" class="btn btn-sm btn-icon dropdown-toggle hide-arrow"
                    data-bs-toggle="dropdown" aria-expanded="false"><i class="bx bx-dots-vertical-rounded"></i></a>
                <ul class="dropdown-menu dropdown-menu-end">
                    <li ><a href="javascript:;" routerLink="/client/showcase-view/{{job.guid}}" class="dropdown-item">Detail</a></li>

                    <li *ngIf="!job.isDefaultShowcase"><a href="javascript:;" (click)="DeleteShowcase(job.showcaseId)"
                      class="dropdown-item">Delete</a></li>
                </ul>
                </div>
            </td>
        </tr>
    </ng-template>


</p-table>
</div>
